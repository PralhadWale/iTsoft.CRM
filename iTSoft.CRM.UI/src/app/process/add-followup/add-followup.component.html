<form #followUpForm="ngForm">
<mat-sidenav class="search-panel" position="end" position="end" dark #sidenav mode="push" opened="false">
    <mat-card class="profile-card">
      <mat-card-header>
        <div mat-card-avatar class="avatar">
          <mat-icon>queue</mat-icon>
        </div>
        <mat-card-title>
          {{requestTypeName}} Follow up
        </mat-card-title>
        <mat-card-title>
          {{requestNo}}
        </mat-card-title>
      </mat-card-header>
    </mat-card>
    <mat-nav-list style="margin-left:20px;"> 
      <input type="hidden" [(ngModel)]="followUP.FollowUpId" name="FollowUpId" />
       <input type="hidden" [(ngModel)]="followUP.RequestId" name="RequestId" />
      <mat-form-field>
        <input matInput [matDatepicker]="followUpDate" [(ngModel)]="followUP.FollowUpDate" name="FollowUpDate" required>
        <mat-datepicker-toggle matSuffix [for]="followUpDate"></mat-datepicker-toggle>
        <mat-datepicker #followUpDate color="primary"></mat-datepicker>
        <mat-error>FollowUp Date is required.</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput type="text" placeholder="Remark" name="Remark" [(ngModel)]="followUP.Remark"
          #Remark required/>
      </mat-form-field>
      <mat-form-field>
        <input matInput type="text" placeholder="Attempt" name="Attempt" [(ngModel)]="followUP.Attempt"
          #Attempt required/>
      </mat-form-field>
      <mat-form-field>
        <input matInput type="text" placeholder="Client Rating" name="ClientRating" [(ngModel)]="followUP.ClientRating"
          #ClientRating required/>
      </mat-form-field>
      <mat-form-field>
      <mat-select placeholder="Deal Status"  [(ngModel)]="followUP.LeadStatusId" name="LeadStatusId" [(value)]="followUP.LeadStatusId" #LeadStatusId="ngModel" required>
        <mat-option *ngFor="let item of requestSelectList.LeadStatuses" [value]="item.Value" >
          {{item.Text}} 
        </mat-option>
      </mat-select>
      </mat-form-field>
      <mat-form-field>
      <mat-select placeholder="Stage"  [(ngModel)]="followUP.StageId" name="StageId" [(value)]="followUP.StageId" #StageId="ngModel" required>
        <mat-option *ngFor="let item of requestSelectList.Stages" [value]="item.Value" >
          {{item.Text}} 
        </mat-option>
      </mat-select>
    </mat-form-field>
    <div class="form-group form-check" *ngIf="!IsCompleted">
      <mat-checkbox name="IsCompleted" id="IsCompleted" class="form-check-input"
        [(ngModel)]="followUP.IsCompleted" #IsCompleted="ngModel">Mark Completed</mat-checkbox>
    </div>
    <mat-form-field *ngIf="IsCompleted">
      <input matInput type="text" placeholder="Follow up Status" name="IsCompleted" value="Completed"   #IsCompleted readonly/>
    </mat-form-field>
    </mat-nav-list>
    <mat-divider></mat-divider>
    <mat-card-header>
      <mat-action-list>
        <button mat-raised-button style="color:lightgrey; background-color:darkgreen; margin:5px;"
          (click)="onSubmit(followUpForm)"  *ngIf="!IsCompleted">
          <mat-icon>save</mat-icon>Save
        </button>
        <button mat-raised-button style="color:lightgrey; background-color:darkred;margin:5px;"
          (click)="onCancelClick()">
          <mat-icon>cancel</mat-icon>Cancel
        </button>
      </mat-action-list>
    </mat-card-header>
  </mat-sidenav>
</form>