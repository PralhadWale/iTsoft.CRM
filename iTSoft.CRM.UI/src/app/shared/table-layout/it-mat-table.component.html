<mat-toolbar class="primary" *ngIf="tableSettings.ShowToolBar == true">
  <mat-toolbar-row>
    <button mat-mini-fab *ngFor="let index of tableSettings.ToolBarItems" [ngStyle]="toolBarItems[index].style"
      (click)="toolBarCommandClick($event,toolBarItems[index],index)">
      <mat-icon *ngIf="toolBarItems[index].icon">{{toolBarItems[index].icon}}</mat-icon>
    </button>
    <span class="title-spacer"></span>
    <mat-form-field appearance="standard" class="search-form-fileld">
      <mat-label>Filter</mat-label>
      <input matInput (keyup)="applyFilter($event.target.value)">
      <mat-icon>filter_list</mat-icon>
    </mat-form-field>
  </mat-toolbar-row>
</mat-toolbar>
  <div class="mat-elevation-z8" style="overflow-x: scroll !important; max-height: 70vh;overflow: auto;">
    <table mat-table [dataSource]="tableDataSource">
      <ng-container matColumnDef="{{col.ColumnField}}" *ngFor="let col of tableSchema;">
        <th mat-header-cell *matHeaderCellDef>
          <span *ngIf="col.ColumnField !== '$$edit'">
            {{col.ColumnHeader}}
          </span>
        </th>
        <td mat-cell *matCellDef="let element" (click)="onMatCellClick(element[col.ColumnField]);">
          <div *ngIf="!element.isEdit">
            <div class="btn-edit cell-fab" *ngIf="col.Command != null;else spanfield" style="justify-content:right;">
              <button mat-mini-fab *ngFor="let command of col.Command;" [ngStyle]="command.style"
                (click)="commandClick($event , element,col,command)">
                <mat-icon *ngIf="command.icon">{{command.icon}}</mat-icon>
              </button>
            </div>
            <ng-template #spanfield>
              <span *ngIf="col.Type != 'date' && col.Type != 'boolean'">
                {{element[col.ColumnField]}}
              </span>
              <span *ngIf="col.Type == 'date'">
                {{element[col.ColumnField] | date:'dd-MMM-yyyy' }}
              </span>
              <span *ngIf="col.Type == 'datetime'">
                {{element[col.ColumnField] | date:'dd-MMM-yyyy HH:mm' }}
              </span>
              <span *ngIf="col.Type == 'boolean'">
                <mat-checkbox class="form-check-input" [(ngModel)]="element[col.ColumnField]" readonly></mat-checkbox>
              </span>

            </ng-template>
          </div>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div>